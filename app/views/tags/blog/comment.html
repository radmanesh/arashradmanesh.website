<!-- Comment -->
#{if _comment?.deleted}
#{/if}
*{Confirmed Comment}*
#{elseif (_comment?.confirmed)}
  <li class="comment">
      <div>
          <img src="@{'public/img/avatar.png'}" alt="Avatar" class="avatar">
          <div class="comment-meta">
              <span class="author"><a ${_comment?.website ? 'href="_comment?.website"' : ''}>${_comment?.authorName}</a></span>
              <span class="date">${utils.JalaliDateConverter.formattedPersian(_comment?.publishedAt)}</span>
              <span class="reply"><a class="comment-reply-btn" data-comment-id="${_comment?.id}">پاسخ</a></span>
          </div>

          <div class="comment-body">${_comment?.content}</div>
      </div>
      #{secure.check models.AccountRole.ADMINISTRATOR}
        <div class="text-left">
          <div class="btn-group btn-group-xs" role="group" aria-label="...">
            <a href="@{Admin.setCommentConfirmation(_comment?.id,false)}" class="btn btn-danger ajax btn-xs"><i class="fa fa-times"></i></a>
              <a href="@{Admin.setCommentDeletion(_comment?.id,true)}" class="btn btn-danger ajax btn-xs"><i class="fa fa-trash"></i></a>
          </div>
        </div>
      #{/secure.check}
      #{if _comment?.children?.size() > 0}
          <ul class="children">
            #{list items:_comment?.children }
              #{blog.comment comment:_ /}
                <!-- Nested Comment -->
            #{/list}
          </ul>
          <!-- .children -->
      #{/if}
  </li>
#{/elseif}
*{Unconfirmed Or Deleted Comment}*
#{else }
  #{secure.check models.AccountRole.ADMINISTRATOR}
    <li class="comment not-published">
        <div>
            <img src="@{'public/img/avatar.png'}" alt="Avatar" class="avatar">
            <div class="comment-meta">
                <span class="author"><a ${_comment?.website ? 'href="_comment?.website"' : ''}>${_comment?.authorName}</a></span>
                <span class="date">${utils.JalaliDateConverter.formattedPersian(_comment?.publishedAt)}</span>
                <span class="reply"><a class="comment-reply-btn" data-comment-id="${_comment?.id}">پاسخ</a></span>
            </div>

            <div class="comment-body">${_comment?.content}</div>
        </div>
        <div class="text-left">
            <div class="btn-group btn-group-xs" role="group" aria-label="...">
                #{if _comment?.deleted}
                #{/if}
                #{else}
                    <a href="@{Admin.setCommentDeletion(_comment?.id,true)}" class="btn btn-danger ajax btn-xs"><i class="fa fa-trash"></i></a>
                    #{if _comment?.confirmed}
                        <a href="@{Admin.setCommentConfirmation(_comment?.id,false)}" class="btn btn-danger ajax btn-xs"><i class="fa fa-times"></i></a>
                    #{/if}
                    #{else }
                        <a href="@{Admin.setCommentConfirmation(_comment?.id,true)}" class="btn btn-success ajax"><i class="fa fa-check"></i></a>
                    #{/else}

                #{/else}
            </div>
        </div>
      #{if _comment?.children?.size() > 0}
          <ul class="children">
            #{list items:_comment?.children }
              #{blog.comment comment:_ /}
                <!-- Nested Comment -->
            #{/list}
          </ul>
          <!-- .children -->
      #{/if}
    </li>

  #{/secure.check}
#{/else}
